# Project Doubao-Bridge 项目概述

> 版本：1.0.0
> 更新日期：2026-02-02
> 阶段：Phase 1 - MVP 验证

---

## 1. 项目背景

### 1.1 问题陈述

Windows PC 端缺乏优秀的 AI 输入法体验。移动端的「豆包输入法」提供了强大的：
- AI 文本生成与润色
- 高精度语音识别
- 智能联想与补全

但这些能力被锁定在移动端，无法在 PC 端直接使用。

### 1.2 解决方案

通过 **scrcpy**（手机投屏工具）+ **AutoHotkey**（Windows 自动化）构建桥接层，实现：

```
用户在 PC 软件中按快捷键 → 唤起手机输入界面 → 使用豆包输入法 → 自动回填到 PC
```

### 1.3 项目命名

- 项目代号：**Doubao-Bridge**
- 核心理念：Bridge（桥）—— 连接 PC 与移动端的输入能力

---

## 2. 目标用户

| 用户画像 | 描述 |
|----------|------|
| 主要用户 | 项目发起人（Derpy），Windows PC 重度用户 |
| 使用场景 | 在 Word、微信、浏览器、IDE 等软件中进行文字输入 |
| 核心诉求 | 用豆包的 AI/语音能力替代手动打字，提高输入效率 |

---

## 3. 项目范围

### 3.1 Phase 1：MVP 验证（当前阶段）

**目标**：用最小可行方案验证技术路线可行性

| 功能 | 描述 | 优先级 |
|------|------|--------|
| 快捷键唤起 | `Alt+Space` 激活 scrcpy 窗口 | P0 |
| 窗口管理 | 居中显示、调整大小 | P0 |
| 输入准备 | 清空输入容器，就绪状态 | P0 |
| 内容上屏 | `Ctrl+Enter` 复制并粘贴到原窗口 | P0 |
| 焦点还原 | 返回原 PC 软件，光标位置不变 | P0 |

**不包含**：
- 自定义 Android App 开发
- 去边框/沉浸式窗口
- WebSocket 通信
- 多设备支持

### 3.2 Phase 2：体验优化（后续）

- 开发专用 Android 输入容器 App
- 窗口去边框，伪装成悬浮输入框
- 优化剪贴板同步可靠性
- 添加状态提示（托盘图标、声音反馈）

### 3.3 Phase 3：高级功能（远期）

- WebSocket 直连传输，绕过剪贴板
- 多手机设备切换
- 快捷短语/模板管理
- 与 PC 输入法协同

---

## 4. 技术选型

| 组件 | 选择 | 版本 | 理由 |
|------|------|------|------|
| 手机投屏 | scrcpy | 3.3.3 | 开源、低延迟、剪贴板同步 |
| PC 自动化 | AutoHotkey | v2.0 | 现代语法、活跃维护 |
| 输入容器 | 小米便签 / Google Keep | - | 系统自带/轻量，快速验证 |
| 通信方式 | 剪贴板同步 | - | scrcpy 原生支持，零开发 |

---

## 5. 硬件环境

| 项目 | 规格 |
|------|------|
| PC 系统 | Windows 10/11 |
| 手机型号 | Xiaomi 2505APX7BC |
| Android 版本 | Android 16 |
| 连接方式 | USB（已确认可用） |
| scrcpy 路径 | `C:\Users\Derpy\Desktop\scrcpy-win64-v3.3.3` |

---

## 6. 成功标准

Phase 1 完成的判定条件：

| # | 验收标准 | 验证方法 |
|---|----------|----------|
| 1 | 按 `Alt+Space` 后，scrcpy 窗口在 1 秒内激活并居中 | 人工测试 |
| 2 | 输入容器 App 自动清空，输入法就绪 | 人工测试 |
| 3 | 使用豆包语音输入一段话 | 人工测试 |
| 4 | 按 `Ctrl+Enter` 后，文字在 1 秒内出现在 PC 软件中 | 人工测试 |
| 5 | PC 软件焦点正确还原，光标位置不变 | 人工测试 |
| 6 | 连续使用 10 次，成功率 > 90% | 人工测试 |

---

## 7. 风险与缓解

| 风险 | 影响 | 概率 | 缓解措施 |
|------|------|------|----------|
| 剪贴板同步延迟/失败 | 内容丢失或粘贴旧内容 | 中 | 增加等待时间；加入重试机制 |
| scrcpy 窗口标题变化 | AHK 无法定位窗口 | 低 | 改用 ahk_exe 匹配 |
| 输入容器 App 不支持快捷键 | 无法自动全选复制 | 低 | 更换 App 或开发专用 App |
| USB 连接不稳定 | scrcpy 断连 | 低 | 改用 WiFi 连接作为备选 |

---

## 8. 项目结构

```
Doubao_win/
├── CLAUDE.md           # 项目规范配置
├── docs/               # 需求与设计文档
│   ├── 00-project-overview.md    # 本文档
│   ├── 01-requirements.md        # 需求规格说明
│   ├── 02-architecture.md        # 技术架构
│   ├── 03-development-plan.md    # 开发计划
│   └── 04-test-plan.md           # 测试计划
├── scripts/            # 启动脚本
│   ├── start-scrcpy.bat          # 启动 scrcpy
│   └── start-ahk.bat             # 启动 AHK 脚本
├── src/                # 源代码
│   └── ahk/
│       └── doubao-bridge.ahk     # AHK 主脚本
└── logs/               # 日志输出
```

---

## 9. 相关文档

- [01-requirements.md](./01-requirements.md) - 详细需求规格
- [02-architecture.md](./02-architecture.md) - 技术架构设计
- [03-development-plan.md](./03-development-plan.md) - 开发计划
- [04-test-plan.md](./04-test-plan.md) - 测试计划
